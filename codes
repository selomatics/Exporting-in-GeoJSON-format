# QGIS Python Konsolunda çalıştırılabilir

from qgis.core import QgsProject

# 1️⃣ Aktif katmanı al
layer = QgsProject.instance().mapLayersByName("Bina_Katmanı")[0]  # Katman adını değiştir

if layer:
    # 2️⃣ Çıktı dosya yolunu belirle
    output_path = "/home/kullanici/itu_bina.geojson"  # Burayı kendi dizinine göre değiştir

    # 3️⃣ Katmanı GeoJSON olarak dışa aktar
    QgsVectorFileWriter.writeAsVectorFormat(layer, output_path, "UTF-8", layer.crs(), "GeoJSON")

    print(f"✅ Katman başarıyla {output_path} olarak kaydedildi!")
else:
    print("⚠️ Lütfen önce bir katman seçin!")
